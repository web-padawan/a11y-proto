<!DOCTYPE html>

<html>
  <head>
    <title>Demo</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        display: flex;
        flex-wrap: wrap;
      }

      section {
        min-width: 440px;
        margin: 1rem;
        padding: 1rem;
        border: solid 1px #ccc;
      }

      h2 {
        margin: 0 0 1rem;
        font-size: 1.25rem;
      }

      .buttons > * {
        margin-right: 8px;
      }
    </style>
  </head>
  <body>
    <section>
      <h2>Button</h2>
      <div class="buttons">
        <v-button theme="primary success" disabled>Confirm</v-button>
        <v-button>Cancel</v-button>
        <v-button theme="error">Reject</v-button>
      </div>
    </section>

    <section>
      <h2>Checkbox</h2>
      <vaadin-checkbox>I accept <a href="#">Terms and conditions</a></vaadin-checkbox>
      <vaadin-checkbox checked indeterminate label="Select all"></vaadin-checkbox>
    </section>

    <section>
      <h2>Radio button</h2>
      <vaadin-radio-button name="account" value="existing">Use <a href="#">existing account</a></vaadin-radio-button>
      <vaadin-radio-button name="account" value="new" checked label="Create new account"></vaadin-radio-button>
    </section>

    <section>
      <h2>Checkbox group</h2>
      <vaadin-checkbox-group
        required
        label="Choose your meal"
        helper-text="Select at least one"
        error-message="This field is required"
      >
        <vaadin-checkbox value="pizza">Pizza</vaadin-checkbox>
        <vaadin-checkbox value="fish">Fish</vaadin-checkbox>
        <vaadin-checkbox value="veggies">Veggies</vaadin-checkbox>
      </vaadin-checkbox-group>
    </section>

    <section>
      <h2>Radio group</h2>
      <vaadin-radio-group
        required
        label="Delivery time"
        helper-text="We will call to confirm"
        error-message="This field is required"
      >
        <vaadin-radio-button name="time" value="morning">08:00 - 12:00</vaadin-radio-button>
        <vaadin-radio-button name="time" value="afternoon">12:00 - 16:00</vaadin-radio-button>
        <vaadin-radio-button name="time" value="evening">16:00 - 20:00</vaadin-radio-button>
      </vaadin-radio-group>
    </section>

    <section>
      <h2>Text field</h2>
      <vaadin-text-field
        label="Name"
        error-message="This field is required"
        helper-text="Enter your first name"
        required
        clear-button-visible
      ></vaadin-text-field>
    </section>

    <section>
      <h2>Password field</h2>
      <vaadin-password-field
        label="Password"
        error-message="This field is required"
        helper-text="Choose new password"
        required
        clear-button-visible
      ></vaadin-password-field>
    </section>

    <section>
      <h2>Number field</h2>
      <vaadin-number-field
        label="Price"
        value="0"
        step="2"
        error-message="This field is required"
        required
        has-controls
      ></vaadin-number-field>
    </section>

    <section>
      <h2>Select</h2>
      <vaadin-select label="Status" error-message="This field is required" helper-text="Select the role" required>
        <template>
          <vaadin-list-box>
            <vaadin-item>New issue</vaadin-item>
            <vaadin-item>In progress</vaadin-item>
            <vaadin-item>Completed</vaadin-item>
          </vaadin-list-box>
        </template>
      </vaadin-select>
    </section>

    <section>
      <h2>Combo box</h2>
      <vaadin-combo-box
        label="Country"
        error-message="This field is required"
        helper-text="Select a country"
        required
        clear-button-visible
      ></vaadin-combo-box>
    </section>

    <section>
      <h2>Time picker</h2>
      <vaadin-time-picker
        label="Time"
        error-message="This field is required"
        helper-text="Choose appointment time"
        required
        clear-button-visible
      ></vaadin-time-picker>
    </section>

    <section>
      <h2>Date picker</h2>
      <vaadin-date-picker
        label="Date"
        error-message="This field is required"
        helper-text="Choose appointment date"
        required
        clear-button-visible
      ></vaadin-date-picker>
    </section>

    <section>
      <h2>Date time picker</h2>
      <vaadin-date-time-picker
        label="Appointment"
        error-message="This field is required"
        helper-text="Choose date and time"
        required
      ></vaadin-date-time-picker>
    </section>

    <section>
      <h2>Modal overlays</h2>
      <button id="trigger">Open 1</button>
      <v-overlay id="overlay-1" with-backdrop focus-trap restore-focus-on-close></v-overlay>
      <v-overlay id="overlay-2" with-backdrop focus-trap restore-focus-on-close></v-overlay>
    </section>

    <section>
      <h2>Upload</h2>
      <vaadin-upload accept="application/pdf"></vaadin-upload>
    </section>

    <section>
      <h2>Menu bar</h2>
      <vaadin-menu-bar></vaadin-menu-bar>
    </section>

    <script type="module">
      import '@vaadin/vaadin-list-box';
      import '@vaadin/vaadin-item';
      import '@vaadin/vaadin-combo-box/theme/lumo/vaadin-combo-box-dropdown-styles.js';
      import '@vaadin/vaadin-combo-box/theme/lumo/vaadin-combo-box-item-styles.js';
      import '@vaadin/vaadin-upload/theme/lumo/vaadin-upload-styles.js';
      import '@vaadin/vaadin-context-menu/theme/lumo/vaadin-context-menu.js';
      import '@vaadin/vaadin-menu-bar/theme/lumo/vaadin-menu-bar-item-styles.js';
      import '@vaadin/vaadin-menu-bar/theme/lumo/vaadin-menu-bar-overlay-styles.js';
      import './src/styles/button.js';
      import './src/styles/checkbox.js';
      import './src/styles/checkbox-group.js';
      import './src/styles/radio-button.js';
      import './src/styles/radio-group.js';
      import './src/styles/input-container.js';
      import './src/styles/text-field.js';
      import './src/styles/password-field.js';
      import './src/styles/number-field.js';
      import './src/styles/select.js';
      import './src/styles/combo-box.js';
      import './src/styles/date-picker.js';
      import './src/styles/time-picker.js';
      import './src/styles/date-time-picker.js';
      import './src/styles/overlay.js';
      import './src/styles/menu-bar.js';
      import './src/v-button.js';
      import './src/v-checkbox.js';
      import './src/v-checkbox-group.js';
      import './src/v-radio-button.js';
      import './src/v-radio-group.js';
      import './src/v-text-field.js';
      import './src/v-password-field.js';
      import './src/v-number-field.js';
      import './src/v-select.js';
      import './src/v-combo-box.js';
      import './src/v-date-picker.js';
      import './src/v-time-picker.js';
      import './src/v-date-time-picker.js';
      import './src/v-overlay.js';
      import './src/v-menu-bar.js';
      import './src/v-upload.js';

      (async () => {
        const res = await fetch('https://demo.vaadin.com/demo-data/1.0/filtered-countries');
        const json = await res.json();
        document.querySelector('vaadin-combo-box').items = json.result;
      })();

      // Mark as invalid to test announcement
      setTimeout(() => {
        document.querySelector('vaadin-date-time-picker').invalid = true;
      });

      const overlay1 = document.querySelector('#overlay-1');
      const overlay2 = document.querySelector('#overlay-2');

      overlay1.renderer = (root) => {
        if (!root.firstChild) {
          const content = document.createElement('div');
          root.appendChild(content);

          const div = document.createElement('div');
          div.textContent = 'Content 1';
          div.setAttribute('id', 'overlay-1-header');
          content.appendChild(div);

          const p = document.createElement('p');
          p.textContent = 'This is a first dialog';
          p.setAttribute('id', 'overlay-1-text');
          content.appendChild(p);

          const btn = document.createElement('button');
          btn.textContent = 'Open 2';
          btn.addEventListener('click', () => {
            overlay2.opened = true;
          });
          content.appendChild(btn);

          // TODO: should be handled by dialog
          root.setAttribute('role', 'dialog');
          root.setAttribute('aria-modal', 'true');
          root.setAttribute('aria-labelledby', 'overlay-1-header');
          root.setAttribute('aria-describedby', 'overlay-1-text');
        }
      };

      overlay2.renderer = (root) => {
        if (!root.firstChild) {
          const div = document.createElement('div');
          div.textContent = 'Content 2';
          div.setAttribute('id', 'overlay-2-header');
          root.appendChild(div);

          const p = document.createElement('p');
          p.textContent = 'This is a second dialog';
          p.setAttribute('id', 'overlay-2-text');
          root.appendChild(p);

          const input = document.createElement('input');
          root.appendChild(input);

          // TODO: should be handled by dialog
          root.setAttribute('role', 'dialog');
          root.setAttribute('aria-modal', 'true');
          root.setAttribute('aria-labelledby', 'overlay-2-header');
          root.setAttribute('aria-describedby', 'overlay-2-text');
        }
      };

      const button = document.querySelector('#trigger');
      button.addEventListener('click', () => {
        overlay1.opened = true;
      });

      const upload = document.querySelector('vaadin-upload');
      upload.files = [
        { name: 'Don Quixote.pdf', progress: 100, complete: true },
        { name: 'Hamlet.pdf', progress: 100, complete: true }
      ];
      upload.set('i18n.addFiles.many', 'Select Books...');

      const menu = document.querySelector('vaadin-menu-bar');
      menu.items = [
        { text: 'Home' },
        {
          text: 'Reports',
          children: [{ text: 'View Reports' }, { text: 'Generate Report' }]
        },
        { text: 'Dashboard', disabled: true },
        { text: 'Help' }
      ];
    </script>
  </body>
</html>
